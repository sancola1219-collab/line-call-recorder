# LINE 通話錄音 App 安裝與使用指南

## 編譯與安裝

### 使用 Android Studio 編譯

1. **開啟專案**
   - 啟動 Android Studio
   - 選擇 `File` → `Open`
   - 選擇 `line_recorder` 資料夾

2. **等待 Gradle 同步**
   - Android Studio 會自動下載依賴項
   - 等待底部進度條完成

3. **編譯 APK**
   - 選擇 `Build` → `Build Bundle(s) / APK(s)` → `Build APK(s)`
   - 或在終端機執行：`./gradlew assembleDebug`
   - APK 會生成在 `app/build/outputs/apk/debug/app-debug.apk`

4. **安裝到手機**
   - 連接 Android 手機（開啟 USB 偵錯）
   - 點擊 Android Studio 的 Run 按鈕
   - 或使用 ADB：`adb install app/build/outputs/apk/debug/app-debug.apk`

### 直接安裝 APK

如果您已有編譯好的 APK：

1. 將 APK 檔案傳輸到手機
2. 在手機上開啟檔案管理器
3. 找到並點擊 APK 檔案
4. 如果提示「未知來源」，請允許安裝

## 初次設定

### 步驟 1：授予權限

開啟應用程式後，系統會要求以下權限：

- **錄音權限**：必須授予，否則無法錄音
- **通知權限**（Android 13+）：建議授予，用於顯示錄音狀態

### 步驟 2：啟用無障礙服務

這是最重要的步驟，應用程式需要無障礙服務來偵測 LINE 通話：

1. 在應用程式主頁面，點擊「啟用服務」按鈕
2. 系統會跳轉到無障礙設定頁面
3. 找到「LINE 通話錄音」（可能在「已下載的服務」或「已安裝的服務」中）
4. 點擊進入，然後開啟開關
5. 確認彈出的權限提示

### 步驟 3：確認服務狀態

返回應用程式，確認：
- 服務狀態顯示「已啟用」（綠色指示燈）
- 錄音狀態顯示「待機中」

## 使用方式

### 自動錄音

設定完成後，應用程式會在背景運行：

1. 當您接聽或撥打 LINE 通話時
2. 應用程式會自動偵測並開始錄音
3. 通知欄會顯示「正在錄製 LINE 通話」
4. 通話結束後，錄音自動停止並儲存

### 查看錄音

1. 開啟應用程式
2. 點擊「查看錄音」按鈕
3. 可以播放、分享或刪除錄音檔案

### 調整設定

在設定頁面可以調整：

| 設定項目 | 說明 | 建議值 |
|---------|------|--------|
| 音訊來源 | 錄音使用的麥克風模式 | 語音通訊（支援耳機） |
| 音訊格式 | 錄音檔案格式 | M4A（檔案小）或 WAV（品質佳） |
| 取樣率 | 音訊品質 | 44.1 kHz |
| 開機自動啟動 | 開機後自動啟動服務 | 建議開啟 |

## 耳機錄音說明

### 支援的耳機類型

- ✅ 有線耳機（3.5mm 或 USB-C）
- ✅ USB 耳機
- ✅ 藍牙耳機（A2DP/SCO）
- ✅ TWS 真無線耳機

### 錄音效果

| 使用方式 | 錄音內容 |
|---------|---------|
| 揚聲器 | 可錄製雙方聲音 |
| 有線耳機 | 主要錄製自己的聲音 |
| 藍牙耳機 | 主要錄製自己的聲音 |

> **注意**：由於 Android 系統限制，使用耳機時無法直接錄製對方的聲音。這是系統層級的限制，非應用程式問題。

## 常見問題

### Q: 為什麼服務無法啟用？

A: 請確認：
1. 已在無障礙設定中啟用服務
2. 部分手機需要額外允許「後台運行」或「自啟動」權限
3. 嘗試重新啟動應用程式

### Q: 為什麼沒有自動錄音？

A: 請檢查：
1. 服務狀態是否顯示「已啟用」
2. 是否已授予錄音權限
3. LINE 應用是否為最新版本
4. 嘗試重新啟用無障礙服務

### Q: 錄音品質不佳怎麼辦？

A: 建議：
1. 在設定中選擇較高的取樣率（44.1 kHz 或 48 kHz）
2. 使用 WAV 格式獲得最佳品質
3. 確保麥克風沒有被遮擋

### Q: 耳機錄音沒有聲音？

A: 請確認：
1. 音訊來源設定為「語音通訊」
2. 耳機麥克風正常工作
3. 藍牙耳機已正確連接

### Q: 如何節省儲存空間？

A: 建議：
1. 使用 M4A 或 3GP 格式（檔案較小）
2. 定期清理不需要的錄音
3. 選擇較低的取樣率（16 kHz）

## 技術支援

如果遇到問題，請提供以下資訊：
- 手機型號和 Android 版本
- LINE 應用版本
- 問題描述和重現步驟
- 錯誤訊息截圖（如有）
